# 优惠券相关接口

[TOC]
## 修订记录
----
日期 | 作者 | 修订类型 | 修订内容 | 版本|
---- | ---- | ---- | ---- | ---- |
2020年07月03日|冷立纲|A|新增设计方案|1.0|

> 【修订类型：A-新增  M-修改 D-删除】

## 背景

优惠券相关接口

## 产品说明



## 关键流程说明

## 接口说明






#### 1.1 领取优惠券

##### 接口说明

根据优惠券ID领取优惠券

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /coupon/receive |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
|  couponId      | 是|  int  |  优惠券ID | |


#####  错误说明

1. 优惠券已经领取过
2. 优惠券已领完


#####  返回实例
```json
    
    {
    "c": 0,
    "m": null,
    "d": {

    }
}

```


#### 1.2 分页查询优惠券商品

##### 接口说明

根据优惠券ID获取可使用优惠券商品

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /coupon/goods/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
|  couponId      | 是|  int  |  优惠券ID | |
|  query      |否|  string  |   查询关键词  | |


#####  错误说明

1. 优惠券已经领取过
2. 优惠券已领完


#####  返回实例
```json
    
    {
    "c": 0,
    "m": null,
    "d": {

    }
}

```


#### 1.3 我的优惠券

##### 接口说明

我的优惠券

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /coupon/mylist |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
|  page      | 否|  int  |  当前分页 | |
|  limit      | 否|  int  |  单页条数 | |
|  couponId      | 否|  int  |  优惠券ID | |
|  status      |否|  int  |   使用状态  | 如果是0则未使用；如果是1则已使用；如果是2则已过期；如果是3则已经下架；|


#####  错误说明



#####  返回实例
```json
    
    {
    "c": 0,
    "m": null,
    "d": {
        "myCouponPage": {  //我的优惠券
            "pageSize": 10,
            "currentPage": 1,
            "list": [
                {
                    "id": 19,
                    "cid": 1,
                    "name": "限时满减券",
                    "desc": "全场通用",
                    "tag": "无限制",
                    "min": 99.00,
                    "discount": 5.00,
                    "startTime": "2020-07-20 12:45:56",
                    "endTime": "2020-07-30 12:45:56",
                    "available": false
                }
            ],
            "end": true,
            "empty": false,
            "startIndex": 0,
            "totalPage": null
        },
        "moreList": [  ////更多优惠券
            {
                "id": 12,
                "cid": 12,
                "name": "满减券",
                "desc": "满减",
                "tag": "全部商品",
                "min": 99.00,
                "discount": 6.00,
                "startTime": null,
                "endTime": null,
                "available": false
            }        
        ]
    }
}
```



