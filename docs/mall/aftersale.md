# 售后相关接口

[TOC]
## 修订记录
----
日期 | 作者 | 修订类型 | 修订内容 | 版本|
---- | ---- | ---- | ---- | ---- |
2020年07月03日|冷立纲|A|新增设计方案|1.0|

> 【修订类型：A-新增  M-修改 D-删除】

## 背景

售后相关接口

## 产品说明

售后相关接口

## 关键流程说明

## 接口说明





#### 1.1 售后列表

##### 接口说明

根据订单ID获取订单详细信息

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /aftersale/list |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| status      | 是|  int  |  状态 |  如果是空则是全部 0是可申请，1是用户已申请，2是管理员审核通过，3是管理员退款成功，4是管理员审核拒绝，5是用户已取消 |
| page      | 否|  int  |  分页 | |
| limit      | 否|  int  | 单页条数 | |


#####  错误说明




#####  返回实例
```json
    
    {
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "currentPage": 1,
        "list": [
            {
                "aftersale": {  //售后列表
                    "id": 1, //售后ID
                    "aftersaleSn": "20200720284331", //售后SN
                    "orderId": 98, // 订单ID
                    "userId": 11443, //用户ID
                    "type": 1, // 售后类型，0是未收货退款，1是已收货（无需退货）退款，2用户退货退款
                    "reason": "xxxxxxx", //退款原因
                    "amount": 50.00, //退款金额
                    "pictures": [], //图片说明
                    "comment": "", //描述
                    "status": 1, //状态 售后状态，0是可申请，1是用户已申请，2是管理员审核通过，3是管理员退款成功，4是管理员审核拒绝，5是用户已取消
                    "handleTime": null,  //处理时间
                    "addTime": "2020-07-20 21:04:42", //添加时间
                    "updateTime": "2020-07-20 21:04:42",
                    "deleted": false
                },
                "goodsList": [  //产品信息
                    {
                        "id": 112,
                        "orderId": 98,
                        "goodsId": 1110016,
                        "goodsName": "天然硅胶宠物除毛按摩刷",
                        "goodsSn": "1110016",
                        "productId": 150,
                        "number": 2,
                        "price": 39.00,
                        "specifications": [
                            "标准"
                        ],
                        "picUrl": "http://yanxuan.nosdn.127.net/3bd73b7279a83d1cbb50c0e45778e6d6.png",
                        "comment": 0,
                        "addTime": "2020-07-20 20:21:50",
                        "updateTime": "2020-07-20 20:21:50",
                        "deleted": false
                    }
                ]
            }
        ],
        "end": true,
        "empty": false,
        "startIndex": 0
    }
}

```


#### 1.1 申请售后

##### 接口说明

申请售后

##### 请求说明

| http 请求方式          | post     |
|:------------- |:---------------:|
| url      | /aftersale/submit |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| orderId      | 是|  int  |  状态 |  订单号 |
| type      | 是|  int  |  类型 |  0是未收货退款，1是已收货（无需退货）退款，2用户退货退款 |
| reason      |是|  string  | 原因 | |
| amount      |是|  double  | 退款金额 | |
| pictures      |否|  string[]  | 图片 | |
| comment      |否|  string  | 描述 | |

#####  错误说明




#####  返回实例
```json

{
    "c": 0,
    "m": null,
    "d": null
}   
```

#### 1.2 取消售后

##### 接口说明

取消售后

##### 请求说明

| http 请求方式          | post     |
|:------------- |:---------------:|
| url      | /aftersale/cancel |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  状态 |  售后ID |

#####  错误说明




#####  返回实例
```json

{
    "c": 0,
    "m": null,
    "d": {
    
    }
}   
```



















