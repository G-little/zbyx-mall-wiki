# 售后相关接口

[TOC]
## 修订记录
----
日期 | 作者 | 修订类型 | 修订内容 | 版本|
---- | ---- | ---- | ---- | ---- |
2020年07月03日|冷立纲|A|新增设计方案|1.0|

> 【修订类型：A-新增  M-修改 D-删除】

## 背景

售后相关接口

## 产品说明

售后相关接口

## 关键流程说明

## 接口说明





#### 1.1 售后列表

##### 接口说明

根据订单ID获取订单详细信息

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /aftersale/list |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| status      | 是|  int  |  状态 |  0是可申请，1处理中 2 历史记录 |
| page      | 否|  int  |  分页 | |
| limit      | 否|  int  | 单页条数 | |


#####  错误说明




#####  返回实例
```json
    
    {
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "currentPage": 1,
        "list": [
            {
                "id": 2,  //ID
                "orderId": 99, //订单ID
                "goodsId": 0, //订单产品ID
                "goodsName": null, //商品名称
                "picUrl": null, //商品图片
                "price": null, //商品售价
                "number": 0, //商品数量
                "type": null, // 退款类型 售后类型，0是未收货退款，1是已收货（无需退货）退款，2用户退货退款
                "aftersaleStatus": 2, //售后状态，0是可申请，1是用户已申请，2是管理员审核通过，3是管理员退款成功，4是管理员审核拒绝，5是用户已取消
                "handleOption": {  //处理项
                    "apply": false,  //申请
                    "hotline": false, //客服热线
                    "cancel": false  //取消
                }
            }
        ],
        "end": true,
        "empty": false,
        "startIndex": 0
    }
}
    
```


#### 1.2 申请售后

##### 接口说明

申请售后

##### 请求说明

| http 请求方式          | post     |
|:------------- |:---------------:|
| url      | /aftersale/submit |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| goodsId      | 是|  int  |  状态 |  订单商品ID |
| type      | 是|  int  |  类型 | 2用户退货退款  3:换货|
| reason      |是|  string  | 原因 | |
| amount      |是|  double  | 退款金额 | |
| pictures      |否|  string[]  | 图片 | |
| comment      |否|  string  | 描述 | |

#####  错误说明




#####  返回实例
```json

{
    "c": 0,
    "m": null,
    "d": null
}   
```

#### 1.2 取消售后

##### 接口说明

取消售后

##### 请求说明

| http 请求方式          | post     |
|:------------- |:---------------:|
| url      | /aftersale/cancel |

#####  输入参数


| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  状态 |  售后ID |

#####  错误说明




#####  返回实例
```json

{
    "c": 0,
    "m": null,
    "d": {
    
    }
}   
```



















