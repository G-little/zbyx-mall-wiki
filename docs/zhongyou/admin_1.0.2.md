# 中优商城管理后台接口

[TOC]
## 修订记录
----
日期 | 作者 | 修订类型 | 修订内容 | 版本|
---- | ---- | ---- | ---- | ---- |
2021年11月06日|冷立纲|A|新增设计方案|1.0.1|

> 【修订类型：A-新增  M-修改 D-删除】

## 背景

中优商城管理后台接口

## 产品说明



## 关键流程说明

## 接口说明



### 1. 酿化管理


-------


#### 1.1.0 获取酿化设置信息

##### 接口说明

商户详情

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/aging_setting/read |

#####  输入参数

无

#####  错误说明




#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "setting": {
            "id": 1,
            "yearFee": "15.00",
            "limitYear": 3,
            "addTime": "2021-11-07 08:00:35"
        },
        "serviceList": [
            {
                "id": 1,
                "name": "阳光杀虫",
                "deleted": false,
                "addTime": null
            },
            {
                "id": 2,
                "name": "无氧杀虫",
                "deleted": false,
                "addTime": null
            },
            {
                "id": 3,
                "name": "烟熏",
                "deleted": false,
                "addTime": null
            },
            {
                "id": 4,
                "name": "控温",
                "deleted": false,
                "addTime": null
            },
            {
                "id": 5,
                "name": "控湿",
                "deleted": false,
                "addTime": null
            }
        ]
    }
}

```



#### 1.1.2 添加酿化服务

##### 接口说明

更新商户

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/aging_service/add |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| name | 是 | stirng | 服务名称 |  |



#####  请求实例

```json

{
    "name":"控湿"
}

```

#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": 5
    }
}

```


#### 1.1.3 删除酿化服务

##### 接口说明

更新商户

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/aging_service/delete |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id | 是| int | 服务ID |  |


#####  请求实例

```json

{
   "id":2
}

```

#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    
    }
}

```



#### 1.1.4 酿化列表

##### 接口说明

更新商户

##### 请求说明

| http 请求方式          | get|
|:------------- |:---------------:|
| url      | /admin/aging/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| page      | 否| int  |  分页 |   |
| limit      | 否| int  |  单页条数 |   |
| userId      | 否| int  | 用户ID | |
| name      | 否| string  |  名字 | |
| mobile      | 否| string  |  手机号 | |



#####  请求实例



#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 1,
        "currentPage": 1,
        "list": [
            {
                "id": 1,
                "goodsId": 1, //商品ID
                "orderId": null, //订单ID
                "lastAgingTime": null //最后酿化时间
            }
        ],
        "end": false,
        "empty": false,
        "startIndex": 0,
        "totalPage": null
    }
}

```



#### 1.1.5 酿化服务

##### 接口说明

更新商户

##### 请求说明

| http 请求方式          | post |
|:------------- |:---------------:|
| url      | /admin/aging/process |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  库存Id |   |
| serviceId      | 是| int  |  服务ID | |



#####  请求实例



#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
      
    }
}

```

### 2. 发票管理


-------


#### 2.0.1 发票列表

##### 接口说明

商户详情

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/bill/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| page      | 否| int  |  分页 |   |
| limit      | 否| int  |  单页条数 |   |


#####  错误说明




#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "total": 1,
        "currentPage": 1,
        "list": [
            {
                "id": 1,
                "uid": 10002,
                "companyName": "test",
                "taxNum": "test",
                "type": "转票",
                "address": "地址",
                "name": "姓名",
                "mobile": "15201",
                "addTime": null
            }
        ],
        "end": true,
        "empty": false,
        "startIndex": 0,
        "totalPage": 1
    }
}

```



#### 2.0.2 添加发票

##### 接口说明

缇娜家

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/bill/create |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| uid      | 是| int  |  用户ID |  0 则为平台发票配置  |
| companyName      | 是| string  |  公司名|   |
| taxNum      | 是| string  |  税号 |   |
| type      | 是| string  |  发票类型|  转票/普票  |
| address      | 是| string  |  发票地址 |  |
| name      | 是| string  |  姓名 |  |
| mobile      | 是| string  |  手机号 |  |

#####  错误说明


```json

{
    "uid":12345,
    "companyName":"北京测试",
    "taxNum":"xxxxxx",
    "mobile":"12345",
    "name":"姓名",
    "address":"地址"
}

```

    


#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": null,
        "uid": 12345,
        "companyName": "北京测试",
        "taxNum": "xxxxxx",
        "type": null,
        "address": "地址",
        "name": "姓名",
        "mobile": "12345",
        "addTime": null
    }
}

```


#### 2.0.3 更新发票

##### 接口说明

缇娜家

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/bill/create |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  ID |    |
| uid      | 否 | int  |  用户ID |  0 则为平台发票配置  |
| companyName      | 否| string  |  公司名|   |
| taxNum      | 否| string  |  税号 |   |
| type      | 否| string  |  发票类型|  转票/普票  |
| address      | 否| string  |  发票地址 |  |
| name      | 否| string  |  姓名 |  |
| mobile      | 否| string  |  手机号 |  |

#####  错误说明


```json

{
    "id":1,
    "uid":12345,
    "companyName":"北京测试",
    "taxNum":"xxxxxx",
    "mobile":"12345",
    "name":"姓名",
    "address":"地址"
}

```

    


#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": null,
        "uid": 12345,
        "companyName": "北京测试",
        "taxNum": "xxxxxx",
        "type": null,
        "address": "地址",
        "name": "姓名",
        "mobile": "12345",
        "addTime": null
    }
}

```


#### 2.0.4 发票详情

##### 接口说明

缇娜家

##### 请求说明

| http 请求方式          | get |
|:------------- |:---------------:|
| url      | /admin/bill/read |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  ID |    |


    


#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": 1,
        "uid": 12345,
        "companyName": "北京测试",
        "taxNum": "xxxxxx",
        "type": "转票",
        "address": "地址",
        "name": "姓名",
        "mobile": "12345",
        "addTime": null
    }
}
```



#### 2.0.5 删除发票

##### 接口说明



##### 请求说明

| http 请求方式          | post json |
|:------------- |:---------------:|
| url      | /admin/bill/delete |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是| int  |  ID |    |



#####  请求实例    

```json
    {
        "id":123
    }
```


#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}
```


