# 中优商城管理后台接口

[TOC]
## 修订记录
----
日期 | 作者 | 修订类型 | 修订内容 | 版本|
---- | ---- | ---- | ---- | ---- |
2020年07月03日|冷立纲|A|新增设计方案|1.0|

> 【修订类型：A-新增  M-修改 D-删除】

## 背景

中优商城管理后台接口

## 产品说明



## 关键流程说明

## 接口说明



### 1. 商户管理


-------

#### 字段说明

| 字段 | 类型 | 说明 | 备注 |
| --- | --- | --- | --- |
| id | int | 商户ID |  |
| name | string | 商户名称 |  |
| addr | string | 商户地址 |  |
| logoUrl | string | 头像 |  |
| mobile | string | 手机号 |  |



#### 1.1.0 商户列表

##### 接口说明



##### 请求说明

| http 请求方式          |get             |
|:------------- |:---------------:|
| url      | /admin/agent/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| page      | 否| int  |  分页 |   |
| limit      | 否| int  |  单页条数 |   |
| name      | 否| string  |  名字 | |
| id      | 否| int  |  代理商名字 | |
| mobile      | 否| string  |  手机号 | |

#####  错误说明





#####  返回实例
```json

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "currentPage": 1,
        "list": [
            {
                "id": 1,  //商户ID
                "name": "xiaogang", //商户名称
                "addr": "wangjing", //商户地址
                "logoUrl": "/logo", // 商户Logo
                "deleted": false, // 删除状态
                "addTime": null, //添加时间
                "mobile": null //手机号
            }
        ],
        "end": true,
        "startIndex": 0,
        "totalPage": 1,
        "empty": false
    }
}


```


#### 1.1.1 添加商户

##### 接口说明

添加商户

##### 请求说明

| http 请求方式          | post   json  |
|:------------- |:---------------:|
| url      | /admin/agent/create |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| name      | 是|  string  |  商户名  |  |
| addr      | 否 |  string  |   |  |
| logoUrl      | 是 |  string  |  商户头像  |  |
| mobile      | 是 |  string  |  手机号 |  |


#####  请求实例

```json

{
    "name":"xxxx",
    "addr":"xx",
    "logoUrl":"/b",
    "mobile":"15201008963"
}

```




#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}

```


#### 1.1.2 商户详情

##### 接口说明

商户详情

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/agent/read |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  商户ID  |  |

#####  错误说明




#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": 1,
        "name": "xiaogang",
        "addr": "wangjing",
        "logoUrl": "/logo",
        "deleted": false,
        "addTime": null,
        "mobile": null
    }
}

```



#### 1.1.3 更新商户信息

##### 接口说明

更新商户

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/agent/update |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  商户ID  |  |
| name      | 是|  string  |  商户名  |  |
| addr      | 否 |  string  |   |  |
| logoUrl      | 是 |  string  |  商户头像  |  |
| mobile      | 是 |  string  |  手机号 |  |


#####  请求实例

```json

{
    "id":1,
    "name":"xxxx",
    "addr":"xx",
    "logoUrl":"/b",
    "mobile":"15201008963"
}

```

#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}

```



#### 1.1.4 删除商户

##### 接口说明

删除商户

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/agent/delete |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  商户ID  |  |


#####  请求实例

```json

{
    "id":1
}

```

#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}

```




### 2. 基数管理


-------

#### 字段说明

| 字段 | 类型 | 说明 | 备注 |
| --- | --- | --- | --- |
| id | int | 基数ID |  |
| name | string | 基数名 |  |
| category | int | 类别 |  0 当年  3 三年 5  5年  -1 其他 |
| weight | int | 比重 |  |



#### 2.1.0 基数列表

##### 接口说明



##### 请求说明

| http 请求方式          |get             |
|:------------- |:---------------:|
| url      | /admin/index_seetings/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| page      | 否| int  |  分页 |   |
| limit      | 否| int  |  单页条数 |   |

#####  错误说明





#####  返回实例
```json

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 10,
        "currentPage": 1,
        "list": [
            {
                "id": 1,
                "name": "xx",
                "category": 0,
                "weight": 40,
                "addTime": "2020-08-15 00:00:00",
                "deleted": false
            }
        ],
        "end": true,
        "indexRate": "1.830384381",  //基数比例
        "startIndex": 0,
        "totalPage": null,
        "empty": false
    }
}


```


#### 2.1.1 添加基数

##### 接口说明

添加基数

##### 请求说明

| http 请求方式          | post   json  |
|:------------- |:---------------:|
| url      | /admin/index_seetings/create |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| name      | 否|  string  |  商户名  |  |
| category      | 是 |  int  | 类别   |  0 当年  3 三年 5  5年  -1 其他  |
| weight      | 是 |  int  |  权重  |  |



#####  请求实例

```json

{
    "name":"xxxx",
    "category":"1",
    "weight":10
}

```




#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}

```


#### 2.1.2 基数详情

##### 接口说明

商户详情

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/agent/read |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  基数ID  |  |

#####  错误说明




#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": 1,
        "name": "xx",
        "category": 0,
        "weight": 40,
        "addTime": "2020-08-15 00:00:00",
        "deleted": false
    }
}

```



#### 2.1.3 更新基数信息

##### 接口说明

更新基数

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/agent/update |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是 |  int  |  基数id |  |
| name      | 否|  string  |  基数名  |  |
| category      | 是 |  int  | 类别   |  0 当年  3 三年 5  5年  -1 其他  |
| weight      | 是 |  int  |  权重  |  |

#####  请求实例

```json

{
    "id":1,
    "name":"xxxx",
    "category":"1",
    "weight":10
}

```

#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}

```



#### 2.1.4 删除基数

##### 接口说明

删除商户

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/agent/delete |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  基数ID  |  |


#####  请求实例

```json

{
    "id":1
}

```

#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}

```




### 3. 圈子管理


-------

#### 字段说明

| 字段 | 类型 | 说明 | 备注 |
| --- | --- | --- | --- |
| id | int | FeedID |  |
| uid | int | 用户ID |  |
| feedType | int | feed 类别 | 1 动态 2 求购 3 出货 |
| addr | string | 地址 | |
| content | string | 内容 | |
| phoneNum | string | 手机号 | |
| bid | string | 出价 | |
| images | string | 图片数组 | |
| thumbCount | int | 点赞数 | |
| commentCount | int | 评论数 | |
| readCount | int | 浏览数 | |



#### 3.1.0 圈子列表

##### 接口说明



##### 请求说明

| http 请求方式          |get             |
|:------------- |:---------------:|
| url      | /admin/feed/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| page      | 否| int  |  分页 |   |
| limit      | 否| int  |  单页条数 |   |
| id      | 否| int  |  feed id |   |
| uid      | 否| int  |  用户 id |   |
| keyword      | 否| string  |  内容 |   |


#####  错误说明





#####  返回实例
```json

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 1,
        "currentPage": 1,
        "list": [
            {
                "id": 9,
                "uid": 10015,
                "feedType": 2,
                "addr": "北京",
                "content": "求购陈皮",
                "phoneNum": "18810757870",
                "bid": "1888",
                "images": "[\"https://zhongyou-mall.oss-cn-beijing.aliyuncs.com/4uwuroicszaclza1mssc.jpeg\"]",
                "addTime": "2021-07-20 18:36:56",
                "deleted": false,
                "thumbCount": 1,
                "commentCount": 5,
                "readCount": 1
            }
        ],
        "end": false,
        "startIndex": 0,
        "totalPage": 9,
        "empty": false
    }
}


```


#### 3.1.1 圈子详情

##### 接口说明

商户详情

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/feed/read |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  feed ID  |  |

#####  错误说明




#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": 1,
        "uid": 10060,
        "feedType": 1,
        "addr": "test",
        "content": "test",
        "phoneNum": null,
        "bid": null,
        "images": "[\"xxxxx\"]",
        "addTime": "2021-07-18 16:01:38",
        "deleted": false,
        "thumbCount": 1,
        "commentCount": 10,
        "readCount": 3
    }
}

```






#### 3.1.2 删除圈子

##### 接口说明

删除圈子

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/feed/delete |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  圈子ID  |  |


#####  请求实例

```json

{
    "id":1
}

```

#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}

```





### 4. 评论管理


-------

#### 字段说明

| 字段 | 类型 | 说明 | 备注 |
| --- | --- | --- | --- |
| id | int | 互动ID |  |
| feedId | int | 圈子ID |  |
| uid | int | 用户ID | |
| type | int | 互动类型 | 0 浏览 1 点赞  2评论 |
| content | string | 内容 | |




#### 4.1.0 互动列表

##### 接口说明



##### 请求说明

| http 请求方式          |get             |
|:------------- |:---------------:|
| url      | /admin/feed_interact/list |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| page      | 否| int  |  分页 |   |
| limit      | 否| int  |  单页条数 |   |
| feedId      | 否| int  |  feed id |   |
| type      | 否| int  |  互动类型 |   0 浏览 1 点赞  2评论  |


#####  错误说明





#####  返回实例
```json

{
    "c": 0,
    "m": null,
    "d": {
        "pageSize": 1,
        "currentPage": 1,
        "list": [
            {
                "id": 25,
                "feedId": 2,
                "uid": 10015,
                "type": 0,
                "addTime": "2021-08-02 23:47:05",
                "content": null
            }
        ],
        "end": false,
        "startIndex": 0,
        "totalPage": 25,
        "empty": false
    }
}

```


#### 4.1.1 评论详情

##### 接口说明

商户详情

##### 请求说明

| http 请求方式          | get     |
|:------------- |:---------------:|
| url      | /admin/feed_interact/read |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  互动 ID  |  |

#####  错误说明




#####  返回实例

```json
    
{
    "c": 0,
    "m": null,
    "d": {
        "id": 25,
        "feedId": 2,
        "uid": 10015,
        "type": 0,
        "addTime": "2021-08-02 23:47:05",
        "content": null
    }
}

```






#### 4.1.2 删除互动

##### 接口说明

删除圈子

##### 请求说明

| http 请求方式          | post  json   |
|:------------- |:---------------:|
| url      | /admin/feed_interact/delete |

#####  输入参数

| 参数          |必选             | 类型       | 参数说明        | 备注          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | 是|  int  |  互动ID  |  |


#####  请求实例

```json

{
    "id":1
}

```

#####  错误说明




#####  返回实例
```json
    
{
    "c": 0,
    "m": null,
    "d": {
    }
}

```

